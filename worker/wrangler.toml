name = "sitefast-edge"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Development settings
[dev]
port = 8787
local_protocol = "http"

# Environment variables
[vars]
# Set this to your customer's origin domain
ORIGIN_DOMAIN = "https://example.com"

# Secrets (set via `wrangler secret put GEMINI_API_KEY`)
# GEMINI_API_KEY = "AIzaSyAhPoCXvTasMVKoPrTxYssF3w8_5MedxSc"

# Production environment
[env.production]
name = "sitefast-edge-prod"
routes = [
  { pattern = "optimized.sitefast.pro/*", zone_name = "sitefast.pro" }
]

# Staging environment
[env.staging]
name = "sitefast-edge-staging"
workers_dev = true

# Custom domains (when customers point DNS to you)
# [[routes]]
# pattern = "www.customer-site.com/*"
# zone_name = "sitefast.pro"
